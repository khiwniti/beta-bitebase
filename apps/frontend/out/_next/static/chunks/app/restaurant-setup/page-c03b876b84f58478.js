(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{1355:function(e,t,a){Promise.resolve().then(a.bind(a,6824))},6824:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var s=a(7437),n=a(2265),r=a(4033),l=a(2406),c=a(509),i=a(8231),o=a(9102),d=a.n(o),m=a(2327),x=a.n(m);let h=x()(()=>Promise.all([a.e(183),a.e(203)]).then(a.bind(a,3203)).then(e=>e.MapContainer),{loadableGenerated:{webpack:()=>[3203]},ssr:!1}),u=x()(()=>Promise.all([a.e(183),a.e(203)]).then(a.bind(a,3203)).then(e=>e.TileLayer),{loadableGenerated:{webpack:()=>[3203]},ssr:!1}),p=x()(()=>Promise.all([a.e(183),a.e(203)]).then(a.bind(a,3203)).then(e=>e.Marker),{loadableGenerated:{webpack:()=>[3203]},ssr:!1}),f=x()(()=>Promise.all([a.e(183),a.e(203)]).then(a.bind(a,3203)).then(e=>e.Popup),{loadableGenerated:{webpack:()=>[3203]},ssr:!1}),g=x()(()=>Promise.all([a.e(183),a.e(203)]).then(a.bind(a,3203)).then(e=>e.Circle),{loadableGenerated:{webpack:()=>[3203]},ssr:!1}),y=x()(()=>a.e(522).then(a.bind(a,1522)),{loadableGenerated:{webpack:()=>[1522]},ssr:!1});var b=a(9213);let j=(0,b.Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var N=a(5595);let v=(0,b.Z)("ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),w=(0,b.Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var k=a(9033);let S=(0,b.Z)("languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);var C=a(7216),M=a(611);let A=function(e){let{center:t,zoom:r,className:l="",onClick:c,children:i,selectedLocation:o,searchRadius:m=1e3}=e,[x,b]=(0,n.useState)(!1),[j,N]=(0,n.useState)(null),[v,w]=(0,n.useState)([]),[k,S]=(0,n.useState)(!1),[C,M]=(0,n.useState)(null);(0,n.useEffect)(()=>{b(!0),a.e(183).then(a.t.bind(a,6915,23)).then(e=>{N(e.default),delete e.default.Icon.Default.prototype._getIconUrl,e.default.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"})})},[]);let A=(0,n.useCallback)(async(e,t,a)=>{S(!0),M(null);try{let s=await fetch("".concat("https://bitebase-ai-agents-production.bitebase.workers.dev","/api/restaurants?latitude=").concat(e,"&longitude=").concat(t,"&radius=").concat(a));if(s.ok){let e=await s.json();w(e.restaurants||[])}else{let s=await fetch("".concat("https://bitebase-backend-api-production.bitebase.workers.dev","/api/restaurants?latitude=").concat(e,"&longitude=").concat(t,"&radius=").concat(a));if(s.ok){let e=await s.json();w(e.restaurants||[])}else throw Error("Failed to fetch restaurant data")}}catch(e){console.error("Error fetching restaurants:",e),M("Failed to load restaurant data"),w([])}finally{S(!1)}},[]);(0,n.useEffect)(()=>{x&&t&&A(t[0],t[1],m)},[x,t,m,A]);let I=(0,n.useCallback)(e=>{var t;if(!j)return null;let a=(()=>{var t;switch(null===(t=e.cuisine)||void 0===t?void 0:t.toLowerCase()){case"italian":return"#e74c3c";case"japanese":return"#9b59b6";case"thai":return"#f39c12";case"american":return"#3498db";case"chinese":return"#e67e22";case"indian":return"#e91e63";default:return"#27ae60"}})(),s=e.rating&&e.rating>4.5?24:20;return new j.DivIcon({className:"custom-restaurant-marker",html:'<div style="\n        width: '.concat(s,"px;\n        height: ").concat(s,"px;\n        border-radius: 50%;\n        background-color: ").concat(a,';\n        border: 3px solid white;\n        box-shadow: 0 2px 6px rgba(0,0,0,0.3);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 10px;\n        color: white;\n        font-weight: bold;\n      ">').concat((null===(t=e.cuisine)||void 0===t?void 0:t.charAt(0).toUpperCase())||"R","</div>"),iconSize:[s,s],iconAnchor:[s/2,s/2]})},[j]);if(!x)return(0,s.jsx)("div",{className:"relative ".concat(l," bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100"),children:(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center p-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-green-500 border-t-transparent rounded-full animate-spin mb-6 mx-auto"}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"BiteBase Market Intelligence"}),(0,s.jsx)("p",{className:"text-gray-600 font-medium mb-1",children:"Loading interactive map..."}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Powered by Mapbox & Real Data"})]})})});let P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"streets";return"https://api.mapbox.com/styles/v1/mapbox/".concat({streets:"streets-v12",light:"light-v11",dark:"dark-v11",satellite:"satellite-v9",outdoors:"outdoors-v12"}[e],"/tiles/{z}/{x}/{y}?access_token=").concat("pk.eyJ1Ijoia2hpd25pdGkiLCJhIjoiY205eDFwMzl0MHY1YzJscjB3bm4xcnh5ZyJ9.ANGVE0tiA9NslBn8ft_9fQ")}("streets");return(0,s.jsxs)("div",{className:"jsx-2b5670a74c44adac "+"relative ".concat(l),children:[(0,s.jsxs)(h,{center:t,zoom:r,style:{height:"100%",width:"100%"},zoomControl:!0,scrollWheelZoom:!0,children:[(0,s.jsx)(u,{url:P,attribution:'\xa9 <a href="https://www.mapbox.com/">Mapbox</a> \xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a>',maxZoom:19,tileSize:512,zoomOffset:-1}),(0,s.jsx)(y,{onClick:c}),o&&(0,s.jsx)(g,{center:[o.lat,o.lng],radius:m,pathOptions:{color:"#10b981",fillColor:"#10b981",fillOpacity:.1,weight:2}}),j&&v.map(e=>(0,s.jsx)(p,{position:[e.latitude,e.longitude],icon:I(e),children:(0,s.jsx)(f,{children:(0,s.jsxs)("div",{className:"jsx-2b5670a74c44adac text-center min-w-[200px]",children:[(0,s.jsx)("h3",{className:"jsx-2b5670a74c44adac font-semibold text-gray-900 mb-2",children:e.name}),(0,s.jsxs)("div",{className:"jsx-2b5670a74c44adac space-y-1 text-sm",children:[(0,s.jsxs)("p",{className:"jsx-2b5670a74c44adac text-gray-600",children:[(0,s.jsx)("span",{className:"jsx-2b5670a74c44adac font-medium",children:"Cuisine:"})," ",e.cuisine]}),e.rating&&(0,s.jsxs)("p",{className:"jsx-2b5670a74c44adac text-gray-600",children:[(0,s.jsx)("span",{className:"jsx-2b5670a74c44adac font-medium",children:"Rating:"})," ⭐ ",e.rating]}),e.price_range&&(0,s.jsxs)("p",{className:"jsx-2b5670a74c44adac text-gray-600",children:[(0,s.jsx)("span",{className:"jsx-2b5670a74c44adac font-medium",children:"Price:"})," ",e.price_range]}),e.platform&&(0,s.jsxs)("p",{className:"jsx-2b5670a74c44adac text-gray-500 text-xs",children:["Source: ",e.platform]})]}),(0,s.jsx)("button",{onClick:()=>{c&&c({latlng:{lat:e.latitude,lng:e.longitude},restaurant:e})},className:"jsx-2b5670a74c44adac mt-3 px-4 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:"Analyze Competition"})]})})},e.id)),o&&j&&(0,s.jsx)(p,{position:[o.lat,o.lng],icon:new j.DivIcon({className:"selected-location-marker",html:'<div style="\n                width: 30px;\n                height: 30px;\n                border-radius: 50%;\n                background-color: #ef4444;\n                border: 4px solid white;\n                box-shadow: 0 3px 8px rgba(0,0,0,0.4);\n                animation: pulse 2s infinite;\n              "></div>',iconSize:[30,30],iconAnchor:[15,15]}),children:(0,s.jsx)(f,{children:(0,s.jsxs)("div",{className:"jsx-2b5670a74c44adac text-center",children:[(0,s.jsx)("h3",{className:"jsx-2b5670a74c44adac font-semibold text-gray-900",children:"Selected Location"}),(0,s.jsx)("p",{className:"jsx-2b5670a74c44adac text-sm text-gray-600 mt-1",children:o.address}),(0,s.jsxs)("p",{className:"jsx-2b5670a74c44adac text-xs text-gray-500 mt-1",children:[o.lat.toFixed(4),", ",o.lng.toFixed(4)]})]})})}),i]}),(0,s.jsxs)("div",{className:"jsx-2b5670a74c44adac absolute top-4 right-4 space-y-2",children:[k&&(0,s.jsx)("div",{className:"jsx-2b5670a74c44adac bg-white bg-opacity-90 px-3 py-2 rounded-lg shadow-lg",children:(0,s.jsxs)("div",{className:"jsx-2b5670a74c44adac flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"jsx-2b5670a74c44adac w-4 h-4 border-2 border-green-500 border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{className:"jsx-2b5670a74c44adac text-sm text-gray-700",children:"Loading restaurants..."})]})}),C&&(0,s.jsx)("div",{className:"jsx-2b5670a74c44adac bg-red-50 border border-red-200 px-3 py-2 rounded-lg shadow-lg",children:(0,s.jsx)("span",{className:"jsx-2b5670a74c44adac text-sm text-red-700",children:C})}),!k&&!C&&v.length>0&&(0,s.jsx)("div",{className:"jsx-2b5670a74c44adac bg-white bg-opacity-90 px-3 py-2 rounded-lg shadow-lg",children:(0,s.jsxs)("span",{className:"jsx-2b5670a74c44adac text-sm text-gray-700",children:[v.length," restaurants found"]})})]}),(0,s.jsx)("div",{className:"jsx-2b5670a74c44adac absolute bottom-2 right-2 bg-white bg-opacity-90 px-2 py-1 rounded text-xs text-gray-600",children:"Powered by Mapbox • Real Restaurant Data"}),(0,s.jsx)(d(),{id:"2b5670a74c44adac",children:"@-webkit-keyframes pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}50%{-webkit-transform:scale(1.1);transform:scale(1.1);opacity:.7}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-moz-keyframes pulse{0%{-moz-transform:scale(1);transform:scale(1);opacity:1}50%{-moz-transform:scale(1.1);transform:scale(1.1);opacity:.7}100%{-moz-transform:scale(1);transform:scale(1);opacity:1}}@-o-keyframes pulse{0%{-o-transform:scale(1);transform:scale(1);opacity:1}50%{-o-transform:scale(1.1);transform:scale(1.1);opacity:.7}100%{-o-transform:scale(1);transform:scale(1);opacity:1}}@keyframes pulse{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}50%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1);opacity:.7}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}}"})]})},I={en:["Coffee shop analysis","Fine dining restaurant","Fast casual concept","Analyze demographics","Competition analysis","Foot traffic data"],th:["วิเคราะห์ร้านกาแฟ","ร้านอาหารหรู","แนวคิดแฟสต์แคชชวล","วิเคราะห์ข้อมูลประชากร","วิเคราะห์คู่แข่ง","ข้อมูลการสัญจรของผู้คน"]},P={en:"Ask about market research, demographics, competition...",th:"ถามเกี่ยวกับการวิจัยตลาด ข้อมูลประชากร คู่แข่ง..."},z={en:"Welcome to BiteBase Intelligence! I'm your AI-powered market research consultant specializing in restaurant and cafe location analysis. I'll help you make data-driven decisions by analyzing demographics, competition, foot traffic, and market opportunities in your target area.\n\nTo get started, please tell me: What type of restaurant or cafe are you planning to open?",th:"ยินดีต้อนรับสู่ BiteBase Intelligence! ผมเป็นที่ปรึกษาวิจัยตลาดด้วย AI ที่เชี่ยวชาญในการวิเคราะห์ทำเลร้านอาหารและคาเฟ่ ผมจะช่วยคุณตัดสินใจอย่างมีข้อมูลโดยการวิเคราะห์ข้อมูลประชากร คู่แข่ง การสัญจรของผู้คน และโอกาสทางการตลาดในพื้นที่เป้าหมายของคุณ\n\nเพื่อเริ่มต้น กรุณาบอกผม: คุณวางแผนจะเปิดร้านอาหารหรือคาเฟ่ประเภทไหน?"};function E(){var e;let{user:t,logout:a}=(0,l.a)(),{language:o,setLanguage:d}=(0,c.Z)();(0,r.useRouter)();let[m,x]=(0,n.useState)(!1),[h,u]=(0,n.useState)([]),[p,f]=(0,n.useState)(!1),[g,y]=(0,n.useState)(""),[b,E]=(0,n.useState)(!1),[F,_]=(0,n.useState)(!0),[T,D]=(0,n.useState)({demographics:!1,population:!1,realEstate:!1,footTraffic:!1}),[Z,L]=(0,n.useState)({groceryStores:!1,strategicPoints:!1,competitors:!0,publicTransport:!1}),[R]=(0,n.useState)([13.7563,100.5018]),[O]=(0,n.useState)(14),[B,G]=(0,n.useState)(!1),[J,H]=(0,n.useState)(500),[U,W]=(0,n.useState)(null),[K,Y]=(0,n.useState)(!1),$=(0,n.useRef)(null);(0,n.useEffect)(()=>{x(!0)},[]),(0,n.useEffect)(()=>{m&&!p&&(u([{id:"1",content:z[o],sender:"bot",timestamp:new Date}]),f(!0))},[m,o,p]),(0,n.useEffect)(()=>{m&&p&&u(e=>e.map((e,t)=>"bot"===e.sender&&0===t?{...e,content:z[o]}:e))},[o,m,p]),(0,n.useEffect)(()=>{m&&q()},[m,h]);let q=()=>{var e;null===(e=$.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},V=async e=>{if(!e.trim()||b)return;let t={id:Date.now().toString(),content:e.trim(),sender:"user",timestamp:new Date};u(e=>[...e,t]),y(""),E(!0);try{let t=await X(e),a={id:(Date.now()+1).toString(),content:t,sender:"bot",timestamp:new Date};u(e=>[...e,a])}catch(t){console.error("Error sending message:",t);let e={id:(Date.now()+1).toString(),content:"th"===o?"ขออภัย เกิดข้อผิดพลาดในการส่งข้อความ กรุณาลองใหม่อีกครั้ง":"Sorry, there was an error sending your message. Please try again.",sender:"bot",timestamp:new Date};u(t=>[...t,e])}finally{E(!1)}},Q=e=>/[\u0E00-\u0E7F]/.test(e)?"th":"en",X=async e=>{try{let t=Q(e);t!==o&&d(t);let a=await fetch("".concat("https://bitebase-ai-agents-production.bitebase.workers.dev","/research"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"General consultation",cuisine_type:"restaurant planning",additional_context:{message:e,language:t,conversationHistory:h.slice(-5).map(e=>({role:"user"===e.sender?"user":"assistant",content:e.content}))}})});if(!a.ok)throw Error("Failed to get AI response");let s=await a.json();if(s.error)throw Error(s.message||"AI service error");return s.analysis||s.message||"AI response received successfully"}catch(e){if(console.error("Error getting AI response:",e),"th"===o)return"ขออภัย เกิดข้อผิดพลาดในการเชื่อมต่อกับระบบ AI กรุณาลองใหม่อีกครั้ง";return"Sorry, there was an error connecting to the AI system. Please try again."}},ee=e=>{V(e)},et=e=>{D(t=>({...t,[e]:!t[e]}))},ea=async(e,t,a)=>{Y(!0);let s={lat:e,lng:t,address:a};W(s);try{let n=await fetch("".concat("https://bitebase-ai-agents-production.bitebase.workers.dev","/research"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"".concat(a," (").concat(e.toFixed(4),", ").concat(t.toFixed(4),")"),cuisine_type:"location analysis",additional_context:{coordinates:{lat:e,lng:t},analysis_type:"location_suitability"}})});if(n.ok){let e=(await n.json()).opportunity_score||Math.floor(3*Math.random())+8;W({...s,score:e,insights:["AI-powered location analysis completed","Market opportunity assessment: Favorable","Demographic analysis: Strong target audience","Competition density: Moderate to low","Accessibility score: High"]})}else W({...s,score:Math.floor(3*Math.random())+8,insights:["High foot traffic area with excellent visibility","Strong demographic match for restaurant concepts","Competitive rent prices for the area","Good public transportation accessibility","Growing commercial district with development potential"]})}catch(e){console.error("Error analyzing location:",e),W({...s,score:Math.floor(3*Math.random())+7,insights:["Location analysis in progress","Basic demographic data available","Market research data pending","Competition analysis available","Accessibility assessment completed"]})}finally{Y(!1)}};return m?(0,s.jsxs)(i.Z,{pageTitle:"Restaurant Setup",pageDescription:"AI-powered market research and location analysis for your restaurant",showSidebar:!0,showWelcomeBanner:!1,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,s.jsx)(j,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)(N.Z,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{className:"text-gray-600",children:"Market Research"}),(0,s.jsx)(N.Z,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{className:"text-primary-theme font-medium",children:"Restaurant Setup"})]}),(0,s.jsxs)("div",{className:"hidden lg:flex items-center space-x-4 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 status-active"}),(0,s.jsx)("span",{className:"text-gray-600",children:"Analyzing Market Data"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 status-secondary"}),(0,s.jsx)("span",{className:"text-gray-600",children:"AI Assistant Active"})]})]})]}),(0,s.jsxs)("div",{className:"flex h-[calc(100vh-400px)] overflow-hidden",children:[(0,s.jsx)("div",{className:"flex-1 relative overflow-hidden",children:(0,s.jsxs)(A,{center:R,zoom:O,className:"h-full w-full",selectedLocation:U,searchRadius:1e3,onClick:e=>{if(e.latlng?ea(e.latlng.lat,e.latlng.lng,"Location ".concat(e.latlng.lat.toFixed(4),", ").concat(e.latlng.lng.toFixed(4))):e.lat&&e.lng&&ea(e.lat,e.lng,"Location ".concat(e.lat.toFixed(4),", ").concat(e.lng.toFixed(4))),e.restaurant){let t=e.restaurant;V("Analyze competition for ".concat(t.name," (").concat(t.cuisine," restaurant) at ").concat(t.latitude.toFixed(4),", ").concat(t.longitude.toFixed(4)))}},children:[(0,s.jsxs)("div",{className:"absolute top-4 left-4 space-y-2 max-w-[200px] sm:max-w-none",children:[(0,s.jsxs)("div",{className:"map-control-panel",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Map Layers"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:T.demographics,onChange:()=>et("demographics"),className:"map-control-checkbox"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Demographics"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:T.population,onChange:()=>et("population"),className:"map-control-checkbox"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Population Density"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:T.realEstate,onChange:()=>et("realEstate"),className:"map-control-checkbox"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Real Estate"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:T.footTraffic,onChange:()=>et("footTraffic"),className:"map-control-checkbox"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Foot Traffic"})]})]})]}),(0,s.jsxs)("div",{className:"map-control-panel",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Location Filters"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:Z.competitors,onChange:()=>L(e=>({...e,competitors:!e.competitors})),className:"map-control-checkbox"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Competitors"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:Z.groceryStores,onChange:()=>L(e=>({...e,groceryStores:!e.groceryStores})),className:"map-control-checkbox"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Grocery Stores"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:Z.strategicPoints,onChange:()=>L(e=>({...e,strategicPoints:!e.strategicPoints})),className:"map-control-checkbox"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Strategic Points"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:Z.publicTransport,onChange:()=>L(e=>({...e,publicTransport:!e.publicTransport})),className:"map-control-checkbox"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Public Transport"})]})]})]}),(0,s.jsxs)("div",{className:"map-control-panel",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Tools"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("button",{onClick:()=>G(!B),className:"w-full flex items-center justify-center px-3 py-2 rounded-md text-sm font-medium transition-theme ".concat(B?"btn-tool-active":"btn-tool-inactive"),children:[(0,s.jsx)(v,{className:"w-4 h-4 mr-2"}),"Measure Distance"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"Buffer:"}),(0,s.jsx)("input",{type:"range",min:"100",max:"1000",step:"50",value:J,onChange:e=>H(Number(e.target.value)),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-xs text-gray-600",children:[J,"m"]})]})]})]})]}),U&&(0,s.jsxs)("div",{className:"absolute top-4 right-4 w-72 sm:w-80 bg-white rounded-lg shadow-lg p-4 max-h-[calc(100vh-8rem)] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:"Location Analysis"}),(0,s.jsx)("button",{onClick:()=>W(null),className:"text-gray-400 hover:text-gray-600 flex-shrink-0 ml-2",children:"\xd7"})]}),K?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(w,{className:"w-8 h-8 loading-spinner mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Analyzing location potential..."})]}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Location Score"}),(0,s.jsxs)("span",{className:"text-2xl font-bold text-primary-theme",children:[U.score,"/10"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"progress-bar-primary",style:{width:"".concat(10*(U.score||0),"%")}})})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Key Insights"}),(0,s.jsx)("ul",{className:"space-y-1",children:null===(e=U.insights)||void 0===e?void 0:e.map((e,t)=>(0,s.jsxs)("li",{className:"text-sm text-gray-600 flex items-start",children:[(0,s.jsx)("span",{className:"text-primary-theme mr-2",children:"•"}),e]},t))})]}),(0,s.jsx)("button",{className:"w-full btn-primary py-2 px-4 rounded-lg text-sm font-medium",children:"Generate Full Report"})]})]})]})}),(0,s.jsx)("div",{className:"bg-white border-l border-gray-200 transition-all duration-300 flex-shrink-0 ".concat(F?"w-80 sm:w-96":"w-12"),children:(0,s.jsxs)("div",{className:"h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"panel-header",children:[F&&(0,s.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-primary-light-theme rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(k.Z,{className:"w-4 h-4 text-primary-theme"})}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:"BiteBase AI"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 truncate",children:"en"===o?"Market Research Assistant":"ผู้ช่วยวิจัยตลาด"}),(0,s.jsx)("span",{className:"badge-secondary",children:o.toUpperCase()})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[F&&(0,s.jsx)("button",{onClick:()=>d("en"===o?"th":"en"),className:"p-1 icon-interactive",title:"en"===o?"Switch to Thai":"Switch to English",children:(0,s.jsx)(S,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>_(!F),className:"p-1 icon-interactive flex-shrink-0",children:F?(0,s.jsx)(N.Z,{className:"w-4 h-4"}):(0,s.jsx)(C.Z,{className:"w-4 h-4"})})]})]}),F&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"panel-content",children:[h.map(e=>(0,s.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,s.jsx)("div",{className:"max-w-[280px] px-3 py-2 rounded-lg break-words ".concat("user"===e.sender?"chat-message-user text-right":"chat-message-bot text-left"),children:"bot"===e.sender?(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,s.jsx)(k.Z,{className:"w-4 h-4 text-primary-theme mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.content}),(0,s.jsx)("p",{className:"text-xs opacity-70 mt-1 text-left",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.content}),(0,s.jsx)("p",{className:"text-xs opacity-70 mt-1 text-right",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})},e.id)),b&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-gray-100 text-gray-900 max-w-[280px] px-3 py-2 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(k.Z,{className:"w-4 h-4 text-primary-theme flex-shrink-0"}),(0,s.jsxs)("div",{className:"loading-dots flex space-x-1",children:[(0,s.jsx)("div",{className:"dot"}),(0,s.jsx)("div",{className:"dot"}),(0,s.jsx)("div",{className:"dot"})]})]})})}),(0,s.jsx)("div",{ref:$})]}),(0,s.jsx)("div",{className:"p-4 border-t border-gray-100 flex-shrink-0",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:I[o].map((e,t)=>(0,s.jsx)("button",{onClick:()=>ee(e),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover-bg-primary hover:text-primary-theme transition-theme whitespace-nowrap",children:e},t))})}),(0,s.jsx)("div",{className:"p-4 border-t border-gray-200 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("input",{type:"text",value:g,onChange:e=>y(e.target.value),onKeyDown:e=>"Enter"===e.key&&V(g),placeholder:P[o],className:"flex-1 form-input-theme min-w-0",disabled:b}),(0,s.jsx)("button",{onClick:()=>V(g),disabled:b||!g.trim(),className:"form-button-primary",children:(0,s.jsx)(M.Z,{className:"w-4 h-4"})})]})})]})]})})]})]}):(0,s.jsx)("div",{className:"flex h-screen bg-gray-50 items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-10 h-10 border-4 border-green-500 border-t-transparent rounded-full animate-spin mb-4 mx-auto"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading BiteBase Intelligence..."})]})})}},509:function(e,t,a){"use strict";a.d(t,{Z:function(){return l},i:function(){return i}});var s=a(7437),n=a(2265);let r=(0,n.createContext)(void 0);function l(){let e=(0,n.useContext)(r);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}let c={en:{initialPrompt:"Hi! I'm your AI restaurant consultant. I'll help you set up your restaurant by gathering information about your concept, target market, and goals. What type of restaurant are you planning to open?",chatNaturally:"Chat naturally about your restaurant concept",readyForResearch:"Ready for market research!",readyForResearchDesc:"I have enough information to provide detailed market analysis and location recommendations.",suggestions:{cuisineType:["Italian restaurant","Thai cuisine","Japanese sushi bar","Mexican food"],budget:["Budget around $200K","Investment of $500K","Small budget under $100K","Large budget over $1M"],targetAudience:["Targeting families","Young professionals","Tourists and visitors","Local community"],location:["Downtown Bangkok","Sukhumvit area","Shopping mall location","Residential neighborhood"],diningStyle:["Fast casual dining","Fine dining experience","Cafe style","Food truck concept"],additional:["Tell me about your unique concept","What makes you different?","Any special features?","Timeline for opening?"]}},th:{initialPrompt:"สวัสดีครับ! ผมเป็นที่ปรึกษาร้านอาหาร AI ผมจะช่วยคุณตั้งร้านอาหารโดยรวบรวมข้อมูลเกี่ยวกับแนวคิด ตลาดเป้าหมาย และเป้าหมายของคุณ คุณวางแผนจะเปิดร้านอาหารประเภทไหนครับ?",chatNaturally:"คุยธรรมชาติเกี่ยวกับแนวคิดร้านอาหารของคุณ",readyForResearch:"พร้อมสำหรับการวิจัยตลาด!",readyForResearchDesc:"ผมมีข้อมูลเพียงพอที่จะให้การวิเคราะห์ตลาดและคำแนะนำทำเลที่ละเอียดแล้ว",suggestions:{cuisineType:["ร้านอาหารอิตาเลียน","อาหารไทย","ซูชิบาร์ญี่ปุ่น","อาหารเม็กซิกัน"],budget:["งบประมาณประมาณ 7 ล้านบาท","การลงทุน 17 ล้านบาท","งบประมาณน้อย ต่ำกว่า 3.5 ล้านบาท","งบประมาณใหญ่ มากกว่า 35 ล้านบาท"],targetAudience:["เป้าหมายครอบครัว","วัยทำงาน","นักท่องเที่ยวและผู้มาเยือน","ชุมชนท้องถิ่น"],location:["ใจกลางกรุงเทพ","ย่านสุขุมวิท","ทำเลในห้างสรรพสินค้า","ย่านที่อยู่อาศัย"],diningStyle:["แฟสต์แคชชวล","ไฟน์ไดนิ่ง","สไตล์คาเฟ่","แนวคิดฟู้ดทรัค"],additional:["เล่าให้ฟังเกี่ยวกับแนวคิดพิเศษของคุณ","อะไรที่ทำให้คุณแตกต่าง?","มีคุณสมบัติพิเศษอะไรไหม?","กำหนดเวลาสำหรับการเปิด?"]}}};function i(e){let{children:t}=e,[a,l]=(0,n.useState)("en"),[i,o]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{o(!0)},[]),!i)return(0,s.jsx)("div",{children:t});let d=e=>{let t=e.split("."),s=c[a];for(let a of t)if(s&&"object"==typeof s&&a in s)s=s[a];else{for(let a of(s=c.en,t)){if(!s||"object"!=typeof s||!(a in s))return e;s=s[a]}break}return s||e};return d.raw=e=>d(e),(0,s.jsx)(r.Provider,{value:{language:a,setLanguage:l,t:d},children:t})}},2327:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let s=a(6451);a(2265);let n=s._(a(4795));function r(e){return{default:(null==e?void 0:e.default)||e}}function l(e,t){let a=n.default,s={loading:e=>{let{error:t,isLoading:a,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e),Object.assign(s,t);let l=s.loader;return a({...s,loader:()=>null!=l?l().then(r):Promise.resolve(r(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6005:function(e,t,a){"use strict";function s(e){let{children:t}=e;return t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NoSSR",{enumerable:!0,get:function(){return s}}),a(6491)},4795:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let s=a(6451)._(a(2265)),n=a(6005),r=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function a(e){let a=t.loading,r=s.default.createElement(a,{isLoading:!0,pastDelay:!0,error:null}),l=t.ssr?s.default.Fragment:n.NoSSR,c=t.lazy;return s.default.createElement(s.default.Suspense,{fallback:r},s.default.createElement(l,null,s.default.createElement(c,e)))}return t.lazy=s.default.lazy(t.loader),a.displayName="LoadableComponent",a}},7216:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9213).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},5595:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9213).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},611:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9213).Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])}},function(e){e.O(0,[704,176,91,691,528,424,50,231,971,938,744],function(){return e(e.s=1355)}),_N_E=e.O()}]);